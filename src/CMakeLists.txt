cmake_minimum_required(VERSION 3.1)
set(EXECUTABLE_NAME "pas2dox")
find_package(FLEX)
if(WIN32)
    add_definitions(-D_WIN32_WINDOWS=0x0601)
    add_definitions(-D_WIN32_WINNT=0x0601)
    FLEX_TARGET(scanner pas2dox.l ${CMAKE_CURRENT_BINARY_DIR}/pas2dox.cpp COMPILE_FLAGS "--wincompat")
else()
    FLEX_TARGET(scanner pas2dox.l ${CMAKE_CURRENT_BINARY_DIR}/pas2dox.cpp)
endif(WIN32)
include_directories(${CMAKE_CURRENT_BINARY_DIR})
add_executable(${EXECUTABLE_NAME} ${FLEX_scanner_OUTPUTS})
INSTALL(TARGETS ${EXECUTABLE_NAME} DESTINATION bin)
